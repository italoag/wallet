# Test configuration for integration tests

management:
  tracing:
    enabled: true
    sampling:
      probability: 1.0

app:
  security:
    enabled: false

tracing:
  features:
    api: true
    database: true
    kafka: true
    stateMachine: true
    externalApi: true
    reactive: true
    useCase: false

spring:
  main:
    allow-bean-definition-overriding: true
    
  cloud:
    vault:
      enabled: false
  
  # TestContainers will override these dynamically via @DynamicPropertySource
  # Placeholder values ensure DataSourceAutoConfiguration activates
  datasource:
    url: jdbc:postgresql://localhost:5432/placeholder
    username: placeholder
    password: placeholder
    driver-class-name: org.postgresql.Driver
  
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false

  data:
    mongodb:
      repositories:
        enabled: false

  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration
      - org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration
      - org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration
      - org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration
    
logging:
  level:
    dev.bloco.wallet: DEBUG
    org.testcontainers: INFO

